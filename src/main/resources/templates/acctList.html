<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Dough</title>
    <link rel="stylesheet" href="css/bootstrap.min.css"  />
    <link rel="stylesheet" href="css/font-awesome.min.css"  />
    <link rel="stylesheet" href="css/footer.css" />
    <link rel="stylesheet" href="css/menu.css" />
    <link rel="stylesheet" href="css/main.css" />
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="header">
    <div class="container">
        <h1>Page Heading Goes Here</h1>
        <nav class="navbar navbar-default" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#main-navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="index.html">Home</a>
            </div>
            <div id="main-navbar" class="navbar-collapse collapse">
            </div>
        </nav>
    </div>
</div>
<div class="content">
    <div class="container">
        <div class="row">
            <div class="col-xs-12">
                <h1>Accounts</h1>
                <ul style="color: red" th:each="errorMessage : ${messages.errorMessages}">
                    <li th:text="${errorMessage}"></li>
                </ul>
                <ul style="color: green" th:each="successMessage : ${messages.successMessages}">
                    <li th:text="${successMessage}"></li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-12">
                <a href="#" class="btn btn-default" th:href="@{/acctEdit}">Add New</a>
                <a href="#" class="btn btn-default" th:href="@{/acctList }">Reload Page</a>
            </div>
        </div>
        <form id="listForm" class="form" action="#" method="post" th:action="@{/acctList}">
            <input type="hidden" th:field="${acctListForm.whereNameContains}"/>
            <input type="hidden" id="pageNumber" name="pageNumber" th:value="${acctListForm.number}"/>
            <input type="hidden" id="pageSize" name="pageSize" th:value="${acctListForm.size}"/>
            <input type="hidden" id="sortColumn" name="sortColumn" th:value="${acctListForm.sort.iterator().next().property}"/>
            <input type="hidden" id="sortDirection" name="sortDirection" th:value="${acctListForm.sort.iterator().next().direction}"/>
            <input type="hidden" id="currentPage" th:value="${acctListForm.number}"/>
            <input type="hidden" id="totalPages" th:value="${acctListForm.totalPages}"/>
            <div class="col-sm-12">
                <li>
                    <ul>Name contains <input type="text" id="newWhereNameContains" th:value="${acctListForm.whereNameContains}"/>
                    </ul>
                </li>
                <button type="button" class="btn btn-default" onclick="filter();">Filter List</button>
                <a th:if="${acctListForm.hasPrevious()}" href="#" onclick="goToFirstPage();">&lt;&lt;</a>
                <a th:if="${acctListForm.hasPrevious()}" href="#" onclick="goToPreviousPage();">&lt;</a>
                page <span th:text="${acctListForm.number} + 1"/> of <span th:text="${acctListForm.totalPages}"/>
                <a th:if="${acctListForm.hasNext()}" href="#" onclick="goToNextPage();">&gt;</a>
                <a th:if="${acctListForm.hasNext()}" href="#" onclick="goToLastPage();">&gt;&gt;</a>
                page size <select id="selectPageSize" onchange="changePageSize();">
                    <option value="5" th:selected="${acctListForm.size} == 5">5</option>
                    <option value="10" th:selected="${acctListForm.size} == 10">10</option>
                    <option value="20" th:selected="${acctListForm.size} == 20">20</option>
                    <option value="50" th:selected="${acctListForm.size} == 50">50</option>
                </select>
                <div class="table-responsive">
                    <table class="table table-striped table-hover table-condensed">
                        <thead>
                        <tr>
                            <th>
                                <a href="#" onclick="changeSort('id');">Id
                                    <script>
                                        var col = document.getElementById("sortColumn").value;
                                        var dir = document.getElementById("sortDirection").value;
                                        if (col == "id") {
                                            if (dir == "DESC") {
                                                document.write("D");
                                            } else {
                                                document.write("A");
                                            }
                                        }
                                    </script>
                                </a>
                            </th>
                            <th>
                                <a href="#" onclick="changeSort('name');">Name
                                    <script>
                                        var col = document.getElementById("sortColumn").value;
                                        var dir = document.getElementById("sortDirection").value;
                                        if (col == "name") {
                                            if (dir == "DESC") {
                                                document.write("D");
                                            } else {
                                                document.write("A");
                                            }
                                        }
                                    </script>
                                </a>
                            </th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr th:each="acct : ${acctListForm}">
                            <td><a href="#" th:href="@{/acctEdit(id=${acct.id})}"><span th:text="${acct.id}"/></a></td>
                            <td th:text="${acct.name}"></td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </form>
    </div>
</div>
<div class="footer">
    <div class="container">
        <p>Page Footer Goes Here</p>
    </div>
</div>
<script src="js/jquery-1.12.4.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/ie10-viewport-bug-workaround.js"></script>
<script src="js/menu.js"></script>
<script src="js/common.js"></script>
</body>
</html>